#include <ESP8266WiFi.h>
#include <WiFiClient.h>
#include <ESP8266WebServer.h>
 
 
// Replace with your network credentials
const char* ssid = "WifiPaulo"; //VARIÁVEL QUE ARMAZENA O NOME DA REDE SEM FIO EM QUE VAI CONECTAR
const char* password = "lllp7548"; //VARIÁVEL QUE ARMAZENA A SENHA DA REDE SEM FIO EM QUE VAI CONECTAR
 
//DEFINIÇÃO DE IP FIXO PARA O NODEMCU
IPAddress ip(10,0,0,250); //COLOQUE UMA FAIXA DE IP DISPONÍVEL DO SEU ROTEADOR. EX: 192.168.1.110 
IPAddress gateway(10,0,0,2); //GATEWAY DE CONEXÃO (ALTERE PARA O GATEWAY DO SEU ROTEADOR)
IPAddress subnet(255,255,255,0); //MASCARA DE REDE
ESP8266WebServer server(80);   //instantiate server at port 80 (http port)
 
int ledSal = 5;
int ledQuar = 4;
int ledCoz = 15;
int ledFre = 2;

bool ledStatus = false;

String statussala = "off";
String statusquarto = "off";
String statuscozinha = "off";
String statusfrente = "off";


void setup(void){
 
  //the HTML of the web page
  //String index = "<h1>Simple NodeMCU Web Server</h1><p><a href=\"LEDOn\"><button>ON</button></a>&nbsp;<a href=\"LEDOff\"><button>OFF</button></a></p>";
  //make the LED pin output and initially turned off
  pinMode(ledSal, OUTPUT);//Sala
  digitalWrite(ledSal, HIGH);

  pinMode(ledQuar, OUTPUT); //Quarto
  digitalWrite(ledQuar, HIGH);

  pinMode(ledCoz, OUTPUT); //Cozinha
  digitalWrite(ledCoz, HIGH);

  pinMode(ledFre, OUTPUT); //Cozinha
  digitalWrite(ledFre, HIGH);
  
  delay(1000);
  Serial.begin(115200);
  WiFi.begin(ssid, password); //PASSA OS PARÂMETROS PARA A FUNÇÃO QUE VAI FAZER A CONEXÃO COM A REDE SEM FIO
  WiFi.config(ip, gateway, subnet); //PASSA OS PARÂMETROS PARA A FUNÇÃO QUE VAI SETAR O IP FIXO NO NODEMCU
  while (WiFi.status() != WL_CONNECTED) { //ENQUANTO STATUS FOR DIFERENTE DE CONECTADO
    delay(500); //INTERVALO DE 500 MILISEGUNDOS
    Serial.print("."); //ESCREVE O CARACTER NA SERIAL
  }
  Serial.println("");
  delay(1000);
  Serial.println(WiFi.localIP()); //ESCREVE NA SERIAL O IP RECEBIDO DENTRO DA REDE SEM FIO (O IP NESSA PRÁTICA É RECEBIDO DE FORMA AUTOMÁTICA)
  
  
  server.on("/", [](){
    server.send(200, "text/html", "<!DOCTYPE html><html lang=\"pt-BR\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Automação Resdencial</title><style>*{margin: 0;padding: 0;box-sizing: border-box;}body{background-color: beige;}header{width: 100%;background-color: black;display: flex;align-items: center;}header .title{color: white;font-size: 30px;}.container{width: 100%;max-width: 1300px;margin: 0 auto;display: flex;}section{background-color: black;padding: 20px;}section .item-head{display: flex;justify-content: space-between;align-items: center;}section .titulo{color: white;font-size: 20px;}section .estado{font-size: 13px;padding: 3px;text-transform: uppercase;}.on {background-color: greenyellow;color: black;}.off {background-color: grey;color: white;}section .acoes{width: 100%;padding-top: 20px;display: flex;justify-content: space-between;}section .acoes .ligar{width: 50%;height: 40px;background-color: green;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;margin-right: 10px;transition: all 0.2s;}section .acoes .ligar:hover{background-color: greenyellow;}section .acoes .desligar{width: 50%;height: 40px;background-color: red;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;transition: all 0.2s;}section .acoes .desligar:hover{background-color: brown;}@media (min-width: 700px){header  {padding: 20px 60px 20px 60px;}.container{justify-content: center;padding: 20px 60px 20px 60px;flex-wrap: wrap;}section{width: 30%;margin: 20px;}footer{position: absolute;bottom: 0;padding: 0 10px 10px 0;width: 100%;text-align: left;}}@media (max-width: 700px){header{justify-content: center;flex-direction: column;align-items: center;}.container{padding: 20px;flex-direction: column;}section{width: 100%;margin-bottom: 20px;}footer{width: 100%;text-align: center;margin-top: 20px;margin-bottom: 20px;}}</style></head><body><header><div class=\"title\">Residencia Automatizada</div></header><div class=\"container\"><section><div class=\"item-head\"><div class=\"titulo\">Sala</div><div class=\"estado "+statussala+"\">"+statussala+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDSALAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDSALAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Quarto </div><div class=\"estado"+statusquarto+"\">"+statusquarto+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDQUARTOON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDQUARTOOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Cozinha</div><div class=\"estado"+statuscozinha+"\">"+statuscozinha+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDCOZINHAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDCOZINHAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Frente</div><div class=\"estado"+statusfrente+"\">"+statusfrente+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDFRENTEON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDFRENTEOFF\" class=\"desligar\">desligar</a></div></section></div><footer>By Luan Souza</footer></body></html>");
  });
  //======================================== SALA

  server.on("/LEDSALAON", [](){
    statussala = "on";
    server.send(200, "text/html", "<!DOCTYPE html><html lang=\"pt-BR\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Automação Resdencial</title><style>*{margin: 0;padding: 0;box-sizing: border-box;}body{background-color: beige;}header{width: 100%;background-color: black;display: flex;align-items: center;}header .title{color: white;font-size: 30px;}.container{width: 100%;max-width: 1300px;margin: 0 auto;display: flex;}section{background-color: black;padding: 20px;}section .item-head{display: flex;justify-content: space-between;align-items: center;}section .titulo{color: white;font-size: 20px;}section .estado{font-size: 13px;padding: 3px;text-transform: uppercase;}.on {background-color: greenyellow;color: black;}.off {background-color: grey;color: white;}section .acoes{width: 100%;padding-top: 20px;display: flex;justify-content: space-between;}section .acoes .ligar{width: 50%;height: 40px;background-color: green;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;margin-right: 10px;transition: all 0.2s;}section .acoes .ligar:hover{background-color: greenyellow;}section .acoes .desligar{width: 50%;height: 40px;background-color: red;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;transition: all 0.2s;}section .acoes .desligar:hover{background-color: brown;}@media (min-width: 700px){header  {padding: 20px 60px 20px 60px;}.container{justify-content: center;padding: 20px 60px 20px 60px;flex-wrap: wrap;}section{width: 30%;margin: 20px;}footer{position: absolute;bottom: 0;padding: 0 10px 10px 0;width: 100%;text-align: left;}}@media (max-width: 700px){header{justify-content: center;flex-direction: column;align-items: center;}.container{padding: 20px;flex-direction: column;}section{width: 100%;margin-bottom: 20px;}footer{width: 100%;text-align: center;margin-top: 20px;margin-bottom: 20px;}}</style></head><body><header><div class=\"title\">Residencia Automatizada</div></header><div class=\"container\"><section><div class=\"item-head\"><div class=\"titulo\">Sala</div><div class=\"estado "+statussala+"\">"+statussala+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDSALAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDSALAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Quarto </div><div class=\"estado"+statusquarto+"\">"+statusquarto+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDQUARTOON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDQUARTOOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Cozinha</div><div class=\"estado"+statuscozinha+"\">"+statuscozinha+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDCOZINHAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDCOZINHAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Frente</div><div class=\"estado"+statusfrente+"\">"+statusfrente+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDFRENTEON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDFRENTEOFF\" class=\"desligar\">desligar</a></div></section></div><footer>By Luan Souza</footer></body></html>");
    ledStatus = true; //Altera o status para verdade
    Serial.println("ON");
    digitalWrite(ledSal, LOW); //Liga o led
    delay(1000);
  });
  server.on("/LEDSALAOFF", [](){
    statussala = "off";
    server.send(200, "text/html", "<!DOCTYPE html><html lang=\"pt-BR\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Automação Resdencial</title><style>*{margin: 0;padding: 0;box-sizing: border-box;}body{background-color: beige;}header{width: 100%;background-color: black;display: flex;align-items: center;}header .title{color: white;font-size: 30px;}.container{width: 100%;max-width: 1300px;margin: 0 auto;display: flex;}section{background-color: black;padding: 20px;}section .item-head{display: flex;justify-content: space-between;align-items: center;}section .titulo{color: white;font-size: 20px;}section .estado{font-size: 13px;padding: 3px;text-transform: uppercase;}.on {background-color: greenyellow;color: black;}.off {background-color: grey;color: white;}section .acoes{width: 100%;padding-top: 20px;display: flex;justify-content: space-between;}section .acoes .ligar{width: 50%;height: 40px;background-color: green;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;margin-right: 10px;transition: all 0.2s;}section .acoes .ligar:hover{background-color: greenyellow;}section .acoes .desligar{width: 50%;height: 40px;background-color: red;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;transition: all 0.2s;}section .acoes .desligar:hover{background-color: brown;}@media (min-width: 700px){header  {padding: 20px 60px 20px 60px;}.container{justify-content: center;padding: 20px 60px 20px 60px;flex-wrap: wrap;}section{width: 30%;margin: 20px;}footer{position: absolute;bottom: 0;padding: 0 10px 10px 0;width: 100%;text-align: left;}}@media (max-width: 700px){header{justify-content: center;flex-direction: column;align-items: center;}.container{padding: 20px;flex-direction: column;}section{width: 100%;margin-bottom: 20px;}footer{width: 100%;text-align: center;margin-top: 20px;margin-bottom: 20px;}}</style></head><body><header><div class=\"title\">Residencia Automatizada</div></header><div class=\"container\"><section><div class=\"item-head\"><div class=\"titulo\">Sala</div><div class=\"estado "+statussala+"\">"+statussala+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDSALAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDSALAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Quarto</div><div class=\"estado "+statusquarto+"\">"+statusquarto+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDQUARTOON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDQUARTOOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Cozinha</div><div class=\"estado "+statuscozinha+"\">"+statuscozinha+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDCOZINHAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDCOZINHAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Frente</div><div class=\"estado "+statusfrente+"\">"+statusfrente+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDFRENTEON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDFRENTEOFF\" class=\"desligar\">desligar</a></div></section></div><footer>By Luan Souza</footer></body></html>");
    ledStatus = false; //Altera o status para falso
    Serial.println("OFF");
    digitalWrite(ledSal, HIGH); //Desliga o led
    delay(1000);
  });

  //=========================================== QUARTO

 server.on("/LEDQUARTOON", [](){
    statusquarto = "on";
    server.send(200, "text/html", "<!DOCTYPE html><html lang=\"pt-BR\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Automação Resdencial</title><style>*{margin: 0;padding: 0;box-sizing: border-box;}body{background-color: beige;}header{width: 100%;background-color: black;display: flex;align-items: center;}header .title{color: white;font-size: 30px;}.container{width: 100%;max-width: 1300px;margin: 0 auto;display: flex;}section{background-color: black;padding: 20px;}section .item-head{display: flex;justify-content: space-between;align-items: center;}section .titulo{color: white;font-size: 20px;}section .estado{font-size: 13px;padding: 3px;text-transform: uppercase;}.on {background-color: greenyellow;color: black;}.off {background-color: grey;color: white;}section .acoes{width: 100%;padding-top: 20px;display: flex;justify-content: space-between;}section .acoes .ligar{width: 50%;height: 40px;background-color: green;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;margin-right: 10px;transition: all 0.2s;}section .acoes .ligar:hover{background-color: greenyellow;}section .acoes .desligar{width: 50%;height: 40px;background-color: red;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;transition: all 0.2s;}section .acoes .desligar:hover{background-color: brown;}@media (min-width: 700px){header  {padding: 20px 60px 20px 60px;}.container{justify-content: center;padding: 20px 60px 20px 60px;flex-wrap: wrap;}section{width: 30%;margin: 20px;}footer{position: absolute;bottom: 0;padding: 0 10px 10px 0;width: 100%;text-align: left;}}@media (max-width: 700px){header{justify-content: center;flex-direction: column;align-items: center;}.container{padding: 20px;flex-direction: column;}section{width: 100%;margin-bottom: 20px;}footer{width: 100%;text-align: center;margin-top: 20px;margin-bottom: 20px;}}</style></head><body><header><div class=\"title\">Residencia Automatizada</div></header><div class=\"container\"><section><div class=\"item-head\"><div class=\"titulo\">Sala</div><div class=\"estado "+statussala+"\">"+statussala+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDSALAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDSALAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Quarto</div><div class=\"estado "+statusquarto+"\">"+statusquarto+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDQUARTOON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDQUARTOOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Cozinha</div><div class=\"estado "+statuscozinha+"\">"+statuscozinha+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDCOZINHAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDCOZINHAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Frente</div><div class=\"estado "+statusfrente+"\">"+statusfrente+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDFRENTEON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDFRENTEOFF\" class=\"desligar\">desligar</a></div></section></div><footer>By Luan Souza</footer></body></html>");
    ledStatus = true; //Altera o status para verdade
    Serial.println("ON");
    digitalWrite(ledQuar, LOW); //Liga o led
    delay(1000);
  });
  server.on("/LEDQUARTOOFF", [](){
    statusquarto = "off";
    server.send(200, "text/html", "<!DOCTYPE html><html lang=\"pt-BR\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Automação Resdencial</title><style>*{margin: 0;padding: 0;box-sizing: border-box;}body{background-color: beige;}header{width: 100%;background-color: black;display: flex;align-items: center;}header .title{color: white;font-size: 30px;}.container{width: 100%;max-width: 1300px;margin: 0 auto;display: flex;}section{background-color: black;padding: 20px;}section .item-head{display: flex;justify-content: space-between;align-items: center;}section .titulo{color: white;font-size: 20px;}section .estado{font-size: 13px;padding: 3px;text-transform: uppercase;}.on {background-color: greenyellow;color: black;}.off {background-color: grey;color: white;}section .acoes{width: 100%;padding-top: 20px;display: flex;justify-content: space-between;}section .acoes .ligar{width: 50%;height: 40px;background-color: green;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;margin-right: 10px;transition: all 0.2s;}section .acoes .ligar:hover{background-color: greenyellow;}section .acoes .desligar{width: 50%;height: 40px;background-color: red;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;transition: all 0.2s;}section .acoes .desligar:hover{background-color: brown;}@media (min-width: 700px){header  {padding: 20px 60px 20px 60px;}.container{justify-content: center;padding: 20px 60px 20px 60px;flex-wrap: wrap;}section{width: 30%;margin: 20px;}footer{position: absolute;bottom: 0;padding: 0 10px 10px 0;width: 100%;text-align: left;}}@media (max-width: 700px){header{justify-content: center;flex-direction: column;align-items: center;}.container{padding: 20px;flex-direction: column;}section{width: 100%;margin-bottom: 20px;}footer{width: 100%;text-align: center;margin-top: 20px;margin-bottom: 20px;}}</style></head><body><header><div class=\"title\">Residencia Automatizada</div></header><div class=\"container\"><section><div class=\"item-head\"><div class=\"titulo\">Sala</div><div class=\"estado "+statussala+"\">"+statussala+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDSALAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDSALAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Quarto</div><div class=\"estado "+statusquarto+"\">"+statusquarto+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDQUARTOON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDQUARTOOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Cozinha</div><div class=\"estado "+statuscozinha+"\">"+statuscozinha+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDCOZINHAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDCOZINHAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Frente</div><div class=\"estado "+statusfrente+"\">"+statusfrente+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDFRENTEON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDFRENTEOFF\" class=\"desligar\">desligar</a></div></section></div><footer>By Luan Souza</footer></body></html>");
    ledStatus = false; //Altera o status para falso
    Serial.println("OFF");
    digitalWrite(ledQuar, HIGH); //Desliga o led
    delay(1000);
  });

  //========================================== COZINHA

  server.on("/LEDCOZINHAON", [](){
    statuscozinha = "on";
    server.send(200, "text/html", "<!DOCTYPE html><html lang=\"pt-BR\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Automação Resdencial</title><style>*{margin: 0;padding: 0;box-sizing: border-box;}body{background-color: beige;}header{width: 100%;background-color: black;display: flex;align-items: center;}header .title{color: white;font-size: 30px;}.container{width: 100%;max-width: 1300px;margin: 0 auto;display: flex;}section{background-color: black;padding: 20px;}section .item-head{display: flex;justify-content: space-between;align-items: center;}section .titulo{color: white;font-size: 20px;}section .estado{font-size: 13px;padding: 3px;text-transform: uppercase;}.on {background-color: greenyellow;color: black;}.off {background-color: grey;color: white;}section .acoes{width: 100%;padding-top: 20px;display: flex;justify-content: space-between;}section .acoes .ligar{width: 50%;height: 40px;background-color: green;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;margin-right: 10px;transition: all 0.2s;}section .acoes .ligar:hover{background-color: greenyellow;}section .acoes .desligar{width: 50%;height: 40px;background-color: red;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;transition: all 0.2s;}section .acoes .desligar:hover{background-color: brown;}@media (min-width: 700px){header  {padding: 20px 60px 20px 60px;}.container{justify-content: center;padding: 20px 60px 20px 60px;flex-wrap: wrap;}section{width: 30%;margin: 20px;}footer{position: absolute;bottom: 0;padding: 0 10px 10px 0;width: 100%;text-align: left;}}@media (max-width: 700px){header{justify-content: center;flex-direction: column;align-items: center;}.container{padding: 20px;flex-direction: column;}section{width: 100%;margin-bottom: 20px;}footer{width: 100%;text-align: center;margin-top: 20px;margin-bottom: 20px;}}</style></head><body><header><div class=\"title\">Residencia Automatizada</div></header><div class=\"container\"><section><div class=\"item-head\"><div class=\"titulo\">Sala</div><div class=\"estado "+statussala+"\">"+statussala+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDSALAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDSALAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Quarto</div><div class=\"estado "+statusquarto+"\">"+statusquarto+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDQUARTOON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDQUARTOOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Cozinha</div><div class=\"estado "+statuscozinha+"\">"+statuscozinha+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDCOZINHAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDCOZINHAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Frente</div><div class=\"estado "+statusfrente+"\">"+statusfrente+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDFRENTEON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDFRENTEOFF\" class=\"desligar\">desligar</a></div></section></div><footer>By Luan Souza</footer></body></html>");
    ledStatus = true; //Altera o status para verdade
    Serial.println("ON");
    digitalWrite(ledCoz, LOW); //Liga o led
    delay(1000);
  });
  server.on("/LEDCOZINHAOFF", [](){
    statuscozinha = "off";
    server.send(200, "text/html", "<!DOCTYPE html><html lang=\"pt-BR\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Automação Resdencial</title><style>*{margin: 0;padding: 0;box-sizing: border-box;}body{background-color: beige;}header{width: 100%;background-color: black;display: flex;align-items: center;}header .title{color: white;font-size: 30px;}.container{width: 100%;max-width: 1300px;margin: 0 auto;display: flex;}section{background-color: black;padding: 20px;}section .item-head{display: flex;justify-content: space-between;align-items: center;}section .titulo{color: white;font-size: 20px;}section .estado{font-size: 13px;padding: 3px;text-transform: uppercase;}.on {background-color: greenyellow;color: black;}.off {background-color: grey;color: white;}section .acoes{width: 100%;padding-top: 20px;display: flex;justify-content: space-between;}section .acoes .ligar{width: 50%;height: 40px;background-color: green;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;margin-right: 10px;transition: all 0.2s;}section .acoes .ligar:hover{background-color: greenyellow;}section .acoes .desligar{width: 50%;height: 40px;background-color: red;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;transition: all 0.2s;}section .acoes .desligar:hover{background-color: brown;}@media (min-width: 700px){header  {padding: 20px 60px 20px 60px;}.container{justify-content: center;padding: 20px 60px 20px 60px;flex-wrap: wrap;}section{width: 30%;margin: 20px;}footer{position: absolute;bottom: 0;padding: 0 10px 10px 0;width: 100%;text-align: left;}}@media (max-width: 700px){header{justify-content: center;flex-direction: column;align-items: center;}.container{padding: 20px;flex-direction: column;}section{width: 100%;margin-bottom: 20px;}footer{width: 100%;text-align: center;margin-top: 20px;margin-bottom: 20px;}}</style></head><body><header><div class=\"title\">Residencia Automatizada</div></header><div class=\"container\"><section><div class=\"item-head\"><div class=\"titulo\">Sala</div><div class=\"estado "+statussala+"\">"+statussala+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDSALAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDSALAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Quarto</div><div class=\"estado "+statusquarto+"\">"+statusquarto+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDQUARTOON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDQUARTOOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Cozinha</div><div class=\"estado "+statuscozinha+"\">"+statuscozinha+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDCOZINHAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDCOZINHAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Frente</div><div class=\"estado "+statusfrente+"\">"+statusfrente+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDFRENTEON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDFRENTEOFF\" class=\"desligar\">desligar</a></div></section></div><footer>By Luan Souza</footer></body></html>");
    ledStatus = false; //Altera o status para falso
    Serial.println("OFF");
    digitalWrite(ledCoz, HIGH); //Desliga o led
    delay(1000);
  });

  //========================================== Frente
   server.on("/LEDFRENTEON", [](){
    statusfrente = "on";
    server.send(200, "text/html", "<!DOCTYPE html><html lang=\"pt-BR\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Automação Resdencial</title><style>*{margin: 0;padding: 0;box-sizing: border-box;}body{background-color: beige;}header{width: 100%;background-color: black;display: flex;align-items: center;}header .title{color: white;font-size: 30px;}.container{width: 100%;max-width: 1300px;margin: 0 auto;display: flex;}section{background-color: black;padding: 20px;}section .item-head{display: flex;justify-content: space-between;align-items: center;}section .titulo{color: white;font-size: 20px;}section .estado{font-size: 13px;padding: 3px;text-transform: uppercase;}.on {background-color: greenyellow;color: black;}.off {background-color: grey;color: white;}section .acoes{width: 100%;padding-top: 20px;display: flex;justify-content: space-between;}section .acoes .ligar{width: 50%;height: 40px;background-color: green;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;margin-right: 10px;transition: all 0.2s;}section .acoes .ligar:hover{background-color: greenyellow;}section .acoes .desligar{width: 50%;height: 40px;background-color: red;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;transition: all 0.2s;}section .acoes .desligar:hover{background-color: brown;}@media (min-width: 700px){header  {padding: 20px 60px 20px 60px;}.container{justify-content: center;padding: 20px 60px 20px 60px;flex-wrap: wrap;}section{width: 30%;margin: 20px;}footer{position: absolute;bottom: 0;padding: 0 10px 10px 0;width: 100%;text-align: left;}}@media (max-width: 700px){header{justify-content: center;flex-direction: column;align-items: center;}.container{padding: 20px;flex-direction: column;}section{width: 100%;margin-bottom: 20px;}footer{width: 100%;text-align: center;margin-top: 20px;margin-bottom: 20px;}}</style></head><body><header><div class=\"title\">Residencia Automatizada</div></header><div class=\"container\"><section><div class=\"item-head\"><div class=\"titulo\">Sala</div><div class=\"estado "+statussala+"\">"+statussala+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDSALAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDSALAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Quarto</div><div class=\"estado "+statusquarto+"\">"+statusquarto+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDQUARTOON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDQUARTOOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Cozinha</div><div class=\"estado "+statuscozinha+"\">"+statuscozinha+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDCOZINHAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDCOZINHAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Frente</div><div class=\"estado "+statusfrente+"\">"+statusfrente+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDFRENTEON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDFRENTEOFF\" class=\"desligar\">desligar</a></div></section></div><footer>By Luan Souza</footer></body></html>");
    ledStatus = true; //Altera o status para verdade
    Serial.println("ON");
    digitalWrite(ledFre, LOW); //Liga o led
    delay(1000);
  });
  server.on("/LEDFRENTEOFF", [](){
    statusfrente = "off";
    server.send(200, "text/html", "<!DOCTYPE html><html lang=\"pt-BR\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Automação Resdencial</title><style>*{margin: 0;padding: 0;box-sizing: border-box;}body{background-color: beige;}header{width: 100%;background-color: black;display: flex;align-items: center;}header .title{color: white;font-size: 30px;}.container{width: 100%;max-width: 1300px;margin: 0 auto;display: flex;}section{background-color: black;padding: 20px;}section .item-head{display: flex;justify-content: space-between;align-items: center;}section .titulo{color: white;font-size: 20px;}section .estado{font-size: 13px;padding: 3px;text-transform: uppercase;}.on {background-color: greenyellow;color: black;}.off {background-color: grey;color: white;}section .acoes{width: 100%;padding-top: 20px;display: flex;justify-content: space-between;}section .acoes .ligar{width: 50%;height: 40px;background-color: green;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;margin-right: 10px;transition: all 0.2s;}section .acoes .ligar:hover{background-color: greenyellow;}section .acoes .desligar{width: 50%;height: 40px;background-color: red;display: flex;justify-content: center;align-items: center;text-decoration: none;font-size: 15px;text-transform: uppercase;color: white;transition: all 0.2s;}section .acoes .desligar:hover{background-color: brown;}@media (min-width: 700px){header  {padding: 20px 60px 20px 60px;}.container{justify-content: center;padding: 20px 60px 20px 60px;flex-wrap: wrap;}section{width: 30%;margin: 20px;}footer{position: absolute;bottom: 0;padding: 0 10px 10px 0;width: 100%;text-align: left;}}@media (max-width: 700px){header{justify-content: center;flex-direction: column;align-items: center;}.container{padding: 20px;flex-direction: column;}section{width: 100%;margin-bottom: 20px;}footer{width: 100%;text-align: center;margin-top: 20px;margin-bottom: 20px;}}</style></head><body><header><div class=\"title\">Residencia Automatizada</div></header><div class=\"container\"><section><div class=\"item-head\"><div class=\"titulo\">Sala</div><div class=\"estado "+statussala+"\">"+statussala+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDSALAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDSALAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Quarto</div><div class=\"estado "+statusquarto+"\">"+statusquarto+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDQUARTOON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDQUARTOOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Cozinha</div><div class=\"estado "+statuscozinha+"\">"+statuscozinha+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDCOZINHAON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDCOZINHAOFF\" class=\"desligar\">desligar</a></div></section><section><div class=\"item-head\"><div class=\"titulo\">Frente</div><div class=\"estado "+statusfrente+"\">"+statusfrente+"</div></div><div class=\"acoes\"><a href=\"http://10.0.0.250/LEDFRENTEON\" class=\"ligar\">ligar</a><a href=\"http://10.0.0.250/LEDFRENTEOFF\" class=\"desligar\">desligar</a></div></section></div><footer>By Luan Souza</footer></body></html>");
    ledStatus = false; //Altera o status para falso
    Serial.println("OFF");
    digitalWrite(ledFre, HIGH); //Desliga o led
    delay(1000);
  });
  
  server.begin();
  Serial.println("Web server started!");
}

void loop(void){
  server.handleClient();
}
